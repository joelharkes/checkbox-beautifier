var CheckboxBeauty=function(e){"user strict";if("checkbox"!==e.type)throw new Error("CheckboxBeauty can only beautify a checkbox");this.input=e;var t=e,i=this;this.checked=i.input.checked,Object.defineProperty(i.input,"checked",{configurable:!0,get:function(){return i.checked},set:function(e){i.checked!=e&&(i.checked=e)}});var n=this.createImpersonator();this.impersonator=n,i.checked&&this.check(),i.input.parentNode.insertBefore(n,t.nextSibling),this.hideInput(),this.impersonatorClick=function(e){if(e.stopPropagation(),!e.pluginMade){var e=new MouseEvent("click",{bubbles:!0});e.pluginMade=!0,t.dispatchEvent(e)}i.checked=!i.checked,i.checked?i.check():i.uncheck()},this.impersonatorKeydown=function(e){32==e.keyCode&&n.dispatchEvent(new Event("click"))},this.inputClick=function(e){e.pluginMade||n.dispatchEvent(i.makeEvent("click"))},this.inputChange=function(e){};this.impersonatorFocus=function(e){e.pluginMade||i.input.dispatchEvent(i.makeEvent("focus",!1))},this.impersonatorBlur=function(e){i.input.dispatchEvent(i.makeEvent("blur",!1))},this.input.focus=function(){i.impersonator.focus()},this.input.blur=function(){i.impersonator.blur()},this.addListeners()};CheckboxBeauty.prototype.makeEvent=function(e,t){var i=new Event(e,{bubbles:t===!0});return i.pluginMade=!0,i},CheckboxBeauty.prototype.addListeners=function(){this.impersonator.addEventListener("click",this.impersonatorClick),this.impersonator.addEventListener("keydown",this.impersonatorKeydown),this.impersonator.addEventListener("focus",this.impersonatorFocus),this.impersonator.addEventListener("blur",this.impersonatorBlur),this.input.addEventListener("click",this.inputClick),this.input.addEventListener("input",this.inputInput),this.input.addEventListener("focus",this.inputFocus)},CheckboxBeauty.prototype.removeListeners=function(){this.impersonator.removeEventListener("click",this.impersonatorClick),this.impersonator.removeEventListener("keydown",this.impersonatorKeydown),this.impersonator.removeEventListener("focus",this.impersonatorFocus),this.impersonator.removeEventListener("blur",this.impersonatorBlur),this.input.removeEventListener("click",this.inputClick),this.input.removeEventListener("input",this.inputInput),this.input.removeEventListener("focus",this.inputFocus)},CheckboxBeauty.prototype.check=function(){this.checked||(this.impersonator.className+=" checked")},CheckboxBeauty.prototype.uncheck=function(){this.checked&&(impersonator.className="checkbox",this.checked=!1)},CheckboxBeauty.prototype.createImpersonator=function(){var e=document.createElement("div");return e.tabIndex=0,e.className="checkbox",e.innerText="x",e},CheckboxBeauty.prototype.hideInput=function(){this.input.style.display="none"},CheckboxBeauty.prototype.unhideInput=function(){this.input.style.display="block"},CheckboxBeauty.prototype.destroy=function(){this.removeListeners(),this.impersonator.remove(),delete this.input.checked,this.unhideInput()};